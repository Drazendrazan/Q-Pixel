# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#G@@@@
# @@@#^5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B~:#@@@
# @@@P..J@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P:..Y@@@
# @@@5...!#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&?....Y@@@
# @@@B....:5@@@@@@@@@@@@@5?????75&@@@@@@@@@@@&5??????J@@@@@@@@@@@@B~....:B@@@
# @@@@7 ... ~B@@@@@@@@@@@~       ^J#@@@@@@@&Y^       :&@@@@@@@@@@J. ... 5@@@@
# GB@@&!  .. .?#@@@@@@@@@! ......  :?#@@@#J:  ...... :&@@@@@@@@G~  .. .Y@@&YY
# ! ?#@@?.     .J&@@@@@@@~           .7G?.           :&@@@@@@#7      ^G@&Y^ !
# J  .?#@B!      :J#@@@@@~                           :&@@@@&J.     .J@&J:   5
# &^   .7G@B!      .?B@@@~      !!           ~!      :&@@#J:     .7##?.    ?@
# @#~     ^YBG7.     .!G@!      Y@G!.      !G@5      :&G7.     .?BG!.    .Y@@
# @@@5^     .!Y5?:      ^: .... J@@@B7. .7G@@@Y  ... .:      ^YGY^     .!B@@@
# YG&@@P~.  .  .~?7^.... ...... J@@@@@#YB@@@@@Y ...... .  :75Y!.  .  :?B@@BJ7
# Y :75#@BJ^. ..  .^^^:........ J@@@@@@@@@@@@@Y .......:~?J7:  .  :!5&&GJ~..P
# @Y.  .^75GP?~:......::........:!5&@@@@@@@&P!:.......:^^:. ...^75GGY!:.  ^G@
# @@B7:.....^!??7~^:...............^P@@@@@P^..............:^~?YYJ!^... .^Y&@@
# @@@@#Y~.......:^^^^::..............P@@@P..............:^~!~^:......^?G@@@@@
# @@@@@@@B57^:.......:::::::::::::::.~@@@7.:::::::::::.:::......:~75B@@@@@@@@
# @@@@#5B&@@@#GY?!~^:::..:::::::::::.:#@@!.:::::::::::.:::^~7J5G#@@&#GPYB@@@@
# @@@@&?::^!7?Y55P55YJ?7!~^::::::::::^&@@7.:::::::::^~!?JYY55YJ?7!^^:.^Y@@@@@
# @@@@@@BJ~:........:::::::.::::::::.~@@@Y.::::::::..::::.........:^75&@@@@@@
# @@@@@@@@@#G5J?!~~~^^~~~!!!!~^:::::.J@@@P.::::::~77777!!!!!!77?YPB&@@@@@@@@@
# @@@@@@@@@@@@@@@@&&&#BG5J7!^::::::.^B@@@&7:.:::::^~7?YPGB#&&@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@&5?!^:......:::^~?5&@@@@@@GJ!~^:::.....:^~?P&@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@&BG55YYYY5PGB#@@@@@@@@@@@@@&#BGP555PPG#&@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

# 𝖬𝖤𝖱𝖢𝖸 𝖢𝖮𝖫𝖫𝖤𝖢𝖳𝖨𝖵𝖤 - 𝖠𝖣𝖬𝖨𝖭 𝖬𝖤𝖭𝖴​​​​​ (𝙌𝘽𝘾𝙊𝙍𝙀) #

# 𝗧𝗵𝗮𝗻𝗸 𝘆𝗼𝘂 𝗳𝗼𝗿 𝗽𝘂𝗿𝗰𝗵𝗮𝘀𝗶𝗻𝗴 𝗺𝗲𝗿𝗰𝘆-𝗮𝗱𝗺𝗶𝗻𝗺𝗲𝗻𝘂 𝗳𝗼𝗿 𝗤𝗕𝗖𝗼𝗿𝗲.

# /─────────────────────────────────────────────────────────────────────────\ #

# F̲e̲a̲t̲u̲r̲e̲s̲:
# • Highly customizable config.
# • Targeted Player (Click on Current Target prompt to deselect target.)
# • Pinned Target
# • Filtering Players (Server Id, Steam Id)
# • Dev Mode
# • Favorite Actions
# • Filtering Actions
# • Action Categories
# • Troll Actions (Soon more!)

# \─────────────────────────────────────────────────────────────────────────/ #

# ██╗  ██╗███╗░░░███╗██████╗░░█████╗░██████╗░████████╗░█████╗░███╗░░██╗████████╗  ██╗
# ██║  ██║████╗░████║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔══██╗████╗░██║╚══██╔══╝  ██║
# ██║  ██║██╔████╔██║██████╔╝██║░░██║██████╔╝░░░██║░░░███████║██╔██╗██║░░░██║░░░  ██║
# ╚═╝  ██║██║╚██╔╝██║██╔═══╝░██║░░██║██╔══██╗░░░██║░░░██╔══██║██║╚████║░░░██║░░░  ╚═╝
# ██╗  ██║██║░╚═╝░██║██║░░░░░╚█████╔╝██║░░██║░░░██║░░░██║░░██║██║░╚███║░░░██║░░░  ██╗
# ╚═╝  ╚═╝╚═╝░░░░░╚═╝╚═╝░░░░░░╚════╝░╚═╝░░╚═╝░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚══╝░░░╚═╝░░░  ╚═╝

# 𝗡𝗢𝗧𝗘: 𝗦𝗼𝘂𝗻𝗱 𝗳𝗶𝗹𝗲𝘀 𝗳𝗼𝗿 𝗙𝗮𝗿𝘁 𝗡𝗼𝗶𝘀𝗲𝘀 𝗮𝗿𝗲 𝗶𝗻𝗰𝗹𝘂𝗱𝗲𝗱 𝗶𝗻 the 𝘀𝗼𝘂𝗻𝗱𝘀 𝗳𝗼𝗹𝗱𝗲𝗿.

##  𝗥𝗘𝗤𝗨𝗜𝗥𝗘𝗗 𝗙𝗨𝗡𝗖𝗧𝗜𝗢𝗡𝗦 (𝗾𝗯-𝗰𝗼𝗿𝗲) ##
## 𝘽𝙚 𝙨𝙪𝙧𝙚 𝙩𝙤 𝙖𝙙𝙙 𝙩𝙝𝙚𝙨𝙚 𝙛𝙪𝙣𝙘𝙩𝙞𝙤𝙣𝙨❗##

# server/functions.lua

QBCore.Functions.GetPlayerFromIdentifier = function(Identifier)
	for src, player in pairs(QBCore.Players) do
		if Identifier ~= nil then
            if QBCore.Players[src].PlayerData.license == Identifier then
                return QBCore.Players[src]
            end            
        end
	end
	return nil
end

# client/functions.lua

local RegisteredBlips, RegisteredRadiusBlips = {}, {}

QBCore.Functions.CreateBlip = function(BlipId, Coords, Text, Logo, FirstColor, Flashing, Size, ShortRange, Category)
    if RegisteredBlips[BlipId] ~= nil then
        QBCore.Functions.RemoveBlip(BlipId)
    end
    local Blip = AddBlipForCoord(Coords.x, Coords.y, Coords.z)
    SetBlipSprite(Blip, Logo)
    SetBlipDisplay(Blip, 4)
    SetBlipScale(Blip, Size)
    if ShortRange ~= nil and ShortRange ~= false then
        SetBlipAsShortRange(Blip, ShortRange)
    else
        SetBlipAsShortRange(Blip, true)
    end
    if FirstColor ~= nil and FirstColor ~= false then
        SetBlipColour(Blip, FirstColor)
    else
        SetBlipColour(Blip, 1)
    end
    if Flashing ~= nil and Flashing ~= false then
        SetBlipFlashes(Blip, true)
    end
    if Category ~= nil and Category ~= false then
        SetBlipCategory(Blip, Category)
        --7	Other Players
        --10 Property
        --11 Owned Property
    end
    BeginTextCommandSetBlipName("STRING")
    AddTextComponentSubstringPlayerName(Text)
    EndTextCommandSetBlipName(Blip)
    RegisteredBlips[BlipId] = Blip
    return Blip
end

QBCore.Functions.CreateRadiusBlip = function(BlipId, Coords, Color, Radius)
    if RegisteredRadiusBlips[BlipId] ~= nil then
        QBCore.Functions.RemoveBlip(BlipId)
    end
    local RadiusBlip = AddBlipForRadius(Coords.x, Coords.y, Coords.z, Radius)        
    SetBlipRotation(RadiusBlip, 0)
    SetBlipColour(RadiusBlip, Color)
    SetBlipAlpha(RadiusBlip, 175)
    RegisteredRadiusBlips[BlipId] = RadiusBlip
end

QBCore.Functions.SetBlipCoords = function(BlipId, Coords)
    local Blip = QBCore.Functions.GetBlipById(BlipId)
    SetBlipCoords(Blip, Coords.x, Coords.y, Coords.z)
end

QBCore.Functions.RemoveBlip = function(BlipId)
    if RegisteredBlips[BlipId] ~= nil then
        RemoveBlip(RegisteredBlips[BlipId])
        RegisteredBlips[BlipId] = nil
    elseif RegisteredRadiusBlips[BlipId] ~= nil then
        RemoveBlip(RegisteredRadiusBlips[BlipId])
        RegisteredRadiusBlips[BlipId] = nil
    end
end

QBCore.Functions.GetBlipById = function(BlipId)
    if RegisteredRadiusBlips[BlipId] ~= nil then
        return RegisteredRadiusBlips[BlipId]
    end
    if RegisteredBlips[BlipId] ~= nil then
        return RegisteredBlips[BlipId]
    end
    return false
end

QBCore.Functions.GetAllBlipsData = function(Type)
    if Type ~= nil and Type == 'Radius' then
        return RegisteredRadiusBlips
    else
        return RegisteredBlips
    end
end